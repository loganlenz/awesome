<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Awesome Software</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        }
      }
    }
  </script>
  <style>
    .sidebar-link.active { background: rgb(250 232 255); color: rgb(162 28 175); }
    .sidebar-link:hover:not(.active) { background: rgb(243 244 246); }
    .modal-overlay { backdrop-filter: blur(4px); }
    .dropdown-menu { display: none; }
    .dropdown-menu.show { display: block; }
    .stat-card { cursor: pointer; transition: all 0.2s; }
    .stat-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .activity-item { cursor: pointer; transition: background 0.2s; }
    .activity-item:hover { background: rgb(249 250 251); }
    .pipeline-row { cursor: pointer; transition: background 0.2s; }
    .pipeline-row:hover { background: rgb(249 250 251); border-radius: 0.5rem; }
  </style>
</head>
<body class="bg-gray-50 font-sans antialiased">
  <div class="flex h-screen overflow-hidden">
    <!-- Sidebar -->
    <aside class="w-64 bg-white border-r border-gray-200 flex flex-col">
      <!-- Logo -->
      <div class="p-4 border-b border-gray-100">
        <a href="../index.html" class="flex items-center gap-2">
          <div class="w-8 h-8 bg-fuchsia-600 rounded-lg flex items-center justify-center">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
          </div>
          <span class="font-semibold text-gray-900">Awesome Software</span>
        </a>
      </div>

      <!-- Workspace Selector -->
      <div class="p-4 border-b border-gray-100 relative">
        <button onclick="toggleWorkspaceDropdown()" class="w-full flex items-center justify-between px-3 py-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
          <div class="flex items-center gap-2">
            <div class="w-6 h-6 bg-fuchsia-600 rounded flex items-center justify-center text-white text-xs font-medium" id="workspaceInitial">A</div>
            <span class="text-sm font-medium text-gray-900" id="workspaceName">Acme Corp</span>
          </div>
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4"/></svg>
        </button>
        <!-- Workspace Dropdown -->
        <div id="workspaceDropdown" class="dropdown-menu absolute left-4 right-4 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50">
          <div class="p-2">
            <div onclick="selectWorkspace('Acme Corp', 'A')" class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-50 cursor-pointer">
              <div class="w-6 h-6 bg-fuchsia-600 rounded flex items-center justify-center text-white text-xs font-medium">A</div>
              <span class="text-sm text-gray-900">Acme Corp</span>
            </div>
            <div onclick="selectWorkspace('Tech Startup', 'T')" class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-50 cursor-pointer">
              <div class="w-6 h-6 bg-blue-600 rounded flex items-center justify-center text-white text-xs font-medium">T</div>
              <span class="text-sm text-gray-900">Tech Startup</span>
            </div>
            <div onclick="selectWorkspace('My Agency', 'M')" class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-50 cursor-pointer">
              <div class="w-6 h-6 bg-green-600 rounded flex items-center justify-center text-white text-xs font-medium">M</div>
              <span class="text-sm text-gray-900">My Agency</span>
            </div>
          </div>
          <div class="border-t border-gray-100 p-2">
            <button onclick="openNewWorkspaceModal()" class="w-full flex items-center gap-2 px-3 py-2 text-sm text-fuchsia-600 hover:bg-fuchsia-50 rounded-lg">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
              Add Workspace
            </button>
          </div>
        </div>
      </div>

      <!-- Navigation -->
      <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        <a href="dashboard.html" class="sidebar-link active flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/></svg>
          Dashboard
        </a>
        <a href="contacts.html" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
          Contacts
        </a>
        <a href="campaigns.html" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
          Campaigns
        </a>
        <a href="messaging.html" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>
          Messaging
        </a>
        <a href="calendar.html" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
          Calendar
        </a>
        <a href="websites.html" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/></svg>
          Websites
        </a>
        <a href="automations.html" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
          Automations
        </a>
        <a href="analytics.html" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
          Analytics
        </a>
        <a href="reviews.html" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/></svg>
          Reviews
        </a>
      </nav>

      <!-- Bottom Section -->
      <div class="p-4 border-t border-gray-100 space-y-1">
        <a href="settings.html" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
          Settings
        </a>
        <a href="#" onclick="openHelpModal()" class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
          Help & Support
        </a>
      </div>

      <!-- User Profile -->
      <div class="p-4 border-t border-gray-100">
        <div class="flex items-center gap-3">
          <div class="w-9 h-9 bg-fuchsia-100 rounded-full flex items-center justify-center text-fuchsia-600 font-medium text-sm">JD</div>
          <div class="flex-1 min-w-0">
            <div class="text-sm font-medium text-gray-900 truncate">John Doe</div>
            <div class="text-xs text-gray-500 truncate">john@acmecorp.com</div>
          </div>
          <a href="../login.html" class="p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition" title="Logout">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
          </a>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto">
      <!-- Top Header -->
      <header class="bg-white border-b border-gray-200 px-6 py-4">
        <div class="flex items-center justify-between">
          <div>
            <h1 class="text-xl font-semibold text-gray-900">Dashboard</h1>
            <p class="text-sm text-gray-500">Welcome back, John! Here's what's happening with your business.</p>
          </div>
          <div class="flex items-center gap-3">
            <!-- Date Range Picker -->
            <div class="relative">
              <button onclick="toggleDateDropdown()" class="flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg text-sm text-gray-600 hover:bg-gray-200 transition">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                <span id="dateRangeText">Last 30 days</span>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </button>
              <div id="dateDropdown" class="dropdown-menu absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50">
                <div class="p-1">
                  <button onclick="selectDateRange('Today')" class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg">Today</button>
                  <button onclick="selectDateRange('Last 7 days')" class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg">Last 7 days</button>
                  <button onclick="selectDateRange('Last 30 days')" class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg">Last 30 days</button>
                  <button onclick="selectDateRange('Last 90 days')" class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg">Last 90 days</button>
                  <button onclick="selectDateRange('This year')" class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg">This year</button>
                  <div class="border-t border-gray-100 mt-1 pt-1">
                    <button onclick="openCustomDateModal()" class="w-full text-left px-3 py-2 text-sm text-fuchsia-600 hover:bg-fuchsia-50 rounded-lg">Custom range...</button>
                  </div>
                </div>
              </div>
            </div>
            <button onclick="openAddContactModal()" class="flex items-center gap-2 px-4 py-2 bg-fuchsia-600 text-white rounded-lg text-sm font-medium hover:bg-fuchsia-700 transition">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
              Add Contact
            </button>
          </div>
        </div>
      </header>

      <!-- Dashboard Content -->
      <div class="p-6">
        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
          <div onclick="window.location.href='contacts.html'" class="stat-card bg-white rounded-xl border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-4">
              <div class="w-10 h-10 bg-fuchsia-50 rounded-lg flex items-center justify-center">
                <svg class="w-5 h-5 text-fuchsia-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
              </div>
              <span class="text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full">+12.5%</span>
            </div>
            <div class="text-2xl font-semibold text-gray-900 mb-1" id="statContacts">2,847</div>
            <div class="text-sm text-gray-500">Total Contacts</div>
          </div>

          <div onclick="window.location.href='contacts.html?filter=new'" class="stat-card bg-white rounded-xl border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-4">
              <div class="w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center">
                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
              </div>
              <span class="text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full">+8.2%</span>
            </div>
            <div class="text-2xl font-semibold text-gray-900 mb-1" id="statLeads">847</div>
            <div class="text-sm text-gray-500">New Leads (30d)</div>
          </div>

          <div onclick="window.location.href='analytics.html'" class="stat-card bg-white rounded-xl border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-4">
              <div class="w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center">
                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
              </div>
              <span class="text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full">+23.1%</span>
            </div>
            <div class="text-2xl font-semibold text-gray-900 mb-1" id="statRevenue">$48,320</div>
            <div class="text-sm text-gray-500">Revenue (30d)</div>
          </div>

          <div onclick="window.location.href='analytics.html?tab=conversions'" class="stat-card bg-white rounded-xl border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-4">
              <div class="w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center">
                <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/></svg>
              </div>
              <span class="text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full">+5.4%</span>
            </div>
            <div class="text-2xl font-semibold text-gray-900 mb-1" id="statConversion">34.2%</div>
            <div class="text-sm text-gray-500">Conversion Rate</div>
          </div>
        </div>

        <!-- Charts Row -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
          <!-- Lead Generation Chart -->
          <div class="lg:col-span-2 bg-white rounded-xl border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-6">
              <div>
                <h3 class="font-semibold text-gray-900">Lead Generation</h3>
                <p class="text-sm text-gray-500">Leads captured over time</p>
              </div>
              <div class="flex items-center gap-4 text-sm">
                <label class="flex items-center gap-2 cursor-pointer">
                  <input type="checkbox" checked onchange="toggleChartLine('email')" class="w-4 h-4 text-fuchsia-600 rounded border-gray-300 focus:ring-fuchsia-500">
                  <div class="w-3 h-3 rounded-full bg-fuchsia-500"></div>
                  <span class="text-gray-600">Email</span>
                </label>
                <label class="flex items-center gap-2 cursor-pointer">
                  <input type="checkbox" checked onchange="toggleChartLine('sms')" class="w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500">
                  <div class="w-3 h-3 rounded-full bg-blue-500"></div>
                  <span class="text-gray-600">SMS</span>
                </label>
                <label class="flex items-center gap-2 cursor-pointer">
                  <input type="checkbox" checked onchange="toggleChartLine('social')" class="w-4 h-4 text-green-600 rounded border-gray-300 focus:ring-green-500">
                  <div class="w-3 h-3 rounded-full bg-green-500"></div>
                  <span class="text-gray-600">Social</span>
                </label>
              </div>
            </div>
            <div class="h-64 relative" id="chartContainer">
              <svg class="w-full h-full" viewBox="0 0 600 200" preserveAspectRatio="none">
                <!-- Grid lines -->
                <line x1="0" y1="50" x2="600" y2="50" stroke="#f3f4f6" stroke-width="1"/>
                <line x1="0" y1="100" x2="600" y2="100" stroke="#f3f4f6" stroke-width="1"/>
                <line x1="0" y1="150" x2="600" y2="150" stroke="#f3f4f6" stroke-width="1"/>

                <!-- Area fills -->
                <path id="emailArea" d="M 0 180 Q 60 170 120 150 T 240 120 T 360 90 T 480 60 T 600 40 L 600 200 L 0 200 Z" fill="url(#fuchsiaGradient)" opacity="0.1"/>
                <path id="smsArea" d="M 0 185 Q 60 180 120 165 T 240 140 T 360 120 T 480 95 T 600 80 L 600 200 L 0 200 Z" fill="url(#blueGradient)" opacity="0.1"/>

                <!-- Lines -->
                <path id="emailLine" d="M 0 180 Q 60 170 120 150 T 240 120 T 360 90 T 480 60 T 600 40" fill="none" stroke="#c026d3" stroke-width="2"/>
                <path id="smsLine" d="M 0 185 Q 60 180 120 165 T 240 140 T 360 120 T 480 95 T 600 80" fill="none" stroke="#3b82f6" stroke-width="2"/>
                <path id="socialLine" d="M 0 190 Q 60 188 120 180 T 240 165 T 360 150 T 480 135 T 600 120" fill="none" stroke="#10b981" stroke-width="2"/>

                <!-- Data points (clickable) -->
                <circle onclick="showChartTooltip(event, 'Jan', {email: 45, sms: 32, social: 21})" cx="0" cy="180" r="4" fill="#c026d3" class="cursor-pointer hover:r-6"/>
                <circle onclick="showChartTooltip(event, 'Feb', {email: 78, sms: 56, social: 34})" cx="120" cy="150" r="4" fill="#c026d3" class="cursor-pointer"/>
                <circle onclick="showChartTooltip(event, 'Mar', {email: 112, sms: 89, social: 52})" cx="240" cy="120" r="4" fill="#c026d3" class="cursor-pointer"/>
                <circle onclick="showChartTooltip(event, 'Apr', {email: 156, sms: 123, social: 78})" cx="360" cy="90" r="4" fill="#c026d3" class="cursor-pointer"/>
                <circle onclick="showChartTooltip(event, 'May', {email: 198, sms: 156, social: 98})" cx="480" cy="60" r="4" fill="#c026d3" class="cursor-pointer"/>
                <circle onclick="showChartTooltip(event, 'Jun', {email: 234, sms: 178, social: 112})" cx="600" cy="40" r="4" fill="#c026d3" class="cursor-pointer"/>

                <!-- Gradients -->
                <defs>
                  <linearGradient id="fuchsiaGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#c026d3"/>
                    <stop offset="100%" style="stop-color:#c026d3;stop-opacity:0"/>
                  </linearGradient>
                  <linearGradient id="blueGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#3b82f6"/>
                    <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0"/>
                  </linearGradient>
                </defs>
              </svg>
              <!-- Tooltip -->
              <div id="chartTooltip" class="hidden absolute bg-gray-900 text-white text-xs rounded-lg p-2 pointer-events-none z-10">
                <div class="font-medium" id="tooltipMonth"></div>
                <div class="text-gray-300" id="tooltipData"></div>
              </div>
            </div>
            <div class="flex justify-between text-xs text-gray-400 mt-2 px-2">
              <span>Jan</span>
              <span>Feb</span>
              <span>Mar</span>
              <span>Apr</span>
              <span>May</span>
              <span>Jun</span>
            </div>
          </div>

          <!-- Pipeline -->
          <div class="bg-white rounded-xl border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-6">
              <div>
                <h3 class="font-semibold text-gray-900">Sales Pipeline</h3>
                <p class="text-sm text-gray-500">Deal stages</p>
              </div>
              <button onclick="window.location.href='contacts.html'" class="text-sm text-fuchsia-600 hover:text-fuchsia-700">View all</button>
            </div>
            <div class="space-y-4">
              <div onclick="window.location.href='contacts.html?stage=new'" class="pipeline-row p-2 -mx-2">
                <div class="flex items-center justify-between text-sm mb-1">
                  <span class="text-gray-600">New Leads</span>
                  <span class="font-medium text-gray-900">124</span>
                </div>
                <div class="h-2 bg-gray-100 rounded-full">
                  <div class="h-2 bg-fuchsia-500 rounded-full transition-all duration-500" style="width: 85%"></div>
                </div>
              </div>
              <div onclick="window.location.href='contacts.html?stage=contacted'" class="pipeline-row p-2 -mx-2">
                <div class="flex items-center justify-between text-sm mb-1">
                  <span class="text-gray-600">Contacted</span>
                  <span class="font-medium text-gray-900">89</span>
                </div>
                <div class="h-2 bg-gray-100 rounded-full">
                  <div class="h-2 bg-blue-500 rounded-full transition-all duration-500" style="width: 65%"></div>
                </div>
              </div>
              <div onclick="window.location.href='contacts.html?stage=qualified'" class="pipeline-row p-2 -mx-2">
                <div class="flex items-center justify-between text-sm mb-1">
                  <span class="text-gray-600">Qualified</span>
                  <span class="font-medium text-gray-900">56</span>
                </div>
                <div class="h-2 bg-gray-100 rounded-full">
                  <div class="h-2 bg-orange-500 rounded-full transition-all duration-500" style="width: 45%"></div>
                </div>
              </div>
              <div onclick="window.location.href='contacts.html?stage=proposal'" class="pipeline-row p-2 -mx-2">
                <div class="flex items-center justify-between text-sm mb-1">
                  <span class="text-gray-600">Proposal</span>
                  <span class="font-medium text-gray-900">34</span>
                </div>
                <div class="h-2 bg-gray-100 rounded-full">
                  <div class="h-2 bg-purple-500 rounded-full transition-all duration-500" style="width: 30%"></div>
                </div>
              </div>
              <div onclick="window.location.href='contacts.html?stage=won'" class="pipeline-row p-2 -mx-2">
                <div class="flex items-center justify-between text-sm mb-1">
                  <span class="text-gray-600">Won</span>
                  <span class="font-medium text-gray-900">18</span>
                </div>
                <div class="h-2 bg-gray-100 rounded-full">
                  <div class="h-2 bg-green-500 rounded-full transition-all duration-500" style="width: 15%"></div>
                </div>
              </div>
            </div>
            <div class="mt-6 pt-4 border-t border-gray-100">
              <div class="flex items-center justify-between text-sm">
                <span class="text-gray-600">Pipeline Value</span>
                <span class="font-semibold text-gray-900">$234,500</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Bottom Row -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Recent Activity -->
          <div class="bg-white rounded-xl border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-6">
              <h3 class="font-semibold text-gray-900">Recent Activity</h3>
              <button onclick="openActivityModal()" class="text-sm text-fuchsia-600 hover:text-fuchsia-700">View all</button>
            </div>
            <div class="space-y-4" id="activityList">
              <div class="activity-item flex items-start gap-3 p-2 -mx-2 rounded-lg" onclick="viewActivityDetail('deal', 'Tech Corp')">
                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
                </div>
                <div class="flex-1 min-w-0">
                  <p class="text-sm text-gray-900">New deal closed with <span class="font-medium">Tech Corp</span></p>
                  <p class="text-xs text-gray-500">$15,000 - 2 minutes ago</p>
                </div>
                <button class="p-1 text-gray-400 hover:text-gray-600">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </button>
              </div>
              <div class="activity-item flex items-start gap-3 p-2 -mx-2 rounded-lg" onclick="viewActivityDetail('campaign', 'Spring Sale')">
                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                </div>
                <div class="flex-1 min-w-0">
                  <p class="text-sm text-gray-900">Email campaign <span class="font-medium">"Spring Sale"</span> sent</p>
                  <p class="text-xs text-gray-500">2,847 recipients - 15 minutes ago</p>
                </div>
                <button class="p-1 text-gray-400 hover:text-gray-600">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </button>
              </div>
              <div class="activity-item flex items-start gap-3 p-2 -mx-2 rounded-lg" onclick="viewActivityDetail('lead', 'Sarah Johnson')">
                <div class="w-8 h-8 bg-fuchsia-100 rounded-full flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-fuchsia-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/></svg>
                </div>
                <div class="flex-1 min-w-0">
                  <p class="text-sm text-gray-900">New lead <span class="font-medium">Sarah Johnson</span> added</p>
                  <p class="text-xs text-gray-500">From website form - 1 hour ago</p>
                </div>
                <button class="p-1 text-gray-400 hover:text-gray-600">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </button>
              </div>
              <div class="activity-item flex items-start gap-3 p-2 -mx-2 rounded-lg" onclick="viewActivityDetail('meeting', 'Mike Chen')">
                <div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                </div>
                <div class="flex-1 min-w-0">
                  <p class="text-sm text-gray-900">Meeting scheduled with <span class="font-medium">Mike Chen</span></p>
                  <p class="text-xs text-gray-500">Tomorrow at 2:00 PM - 2 hours ago</p>
                </div>
                <button class="p-1 text-gray-400 hover:text-gray-600">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- Top Campaigns -->
          <div class="bg-white rounded-xl border border-gray-200 p-6">
            <div class="flex items-center justify-between mb-6">
              <h3 class="font-semibold text-gray-900">Top Campaigns</h3>
              <a href="campaigns.html" class="text-sm text-fuchsia-600 hover:text-fuchsia-700">View all</a>
            </div>
            <div class="overflow-x-auto">
              <table class="w-full">
                <thead>
                  <tr class="text-xs text-gray-500 border-b border-gray-100">
                    <th class="text-left font-medium pb-3">Campaign</th>
                    <th class="text-left font-medium pb-3">Leads</th>
                    <th class="text-left font-medium pb-3">Conv.</th>
                    <th class="text-left font-medium pb-3">Status</th>
                  </tr>
                </thead>
                <tbody class="text-sm">
                  <tr class="border-b border-gray-50 hover:bg-gray-50 cursor-pointer" onclick="window.location.href='campaigns.html?id=1'">
                    <td class="py-3">
                      <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-fuchsia-100 rounded-lg flex items-center justify-center">
                          <svg class="w-4 h-4 text-fuchsia-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8"/></svg>
                        </div>
                        <span class="font-medium text-gray-900">Spring Sale</span>
                      </div>
                    </td>
                    <td class="py-3 text-gray-600">2,847</td>
                    <td class="py-3 text-gray-600">42%</td>
                    <td class="py-3"><span class="px-2 py-1 text-xs font-medium text-green-700 bg-green-50 rounded-full">Active</span></td>
                  </tr>
                  <tr class="border-b border-gray-50 hover:bg-gray-50 cursor-pointer" onclick="window.location.href='campaigns.html?id=2'">
                    <td class="py-3">
                      <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                          <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>
                        </div>
                        <span class="font-medium text-gray-900">SMS Blast</span>
                      </div>
                    </td>
                    <td class="py-3 text-gray-600">1,923</td>
                    <td class="py-3 text-gray-600">38%</td>
                    <td class="py-3"><span class="px-2 py-1 text-xs font-medium text-green-700 bg-green-50 rounded-full">Active</span></td>
                  </tr>
                  <tr class="border-b border-gray-50 hover:bg-gray-50 cursor-pointer" onclick="window.location.href='campaigns.html?id=3'">
                    <td class="py-3">
                      <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                          <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                        </div>
                        <span class="font-medium text-gray-900">Retargeting</span>
                      </div>
                    </td>
                    <td class="py-3 text-gray-600">1,456</td>
                    <td class="py-3 text-gray-600">35%</td>
                    <td class="py-3"><span class="px-2 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded-full">Paused</span></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Add Contact Modal -->
  <div id="addContactModal" class="fixed inset-0 z-50 hidden">
    <div class="modal-overlay absolute inset-0 bg-black/50" onclick="closeAddContactModal()"></div>
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="bg-white rounded-2xl shadow-xl w-full max-w-md relative">
        <div class="flex items-center justify-between p-6 border-b border-gray-100">
          <h2 class="text-lg font-semibold text-gray-900">Add New Contact</h2>
          <button onclick="closeAddContactModal()" class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
        <form onsubmit="saveContact(event)" class="p-6 space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
              <input type="text" id="contactFirstName" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" placeholder="John">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
              <input type="text" id="contactLastName" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" placeholder="Doe">
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
            <input type="email" id="contactEmail" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" placeholder="john@example.com">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
            <input type="tel" id="contactPhone" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" placeholder="+1 (555) 123-4567">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Company</label>
            <input type="text" id="contactCompany" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" placeholder="Acme Inc.">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Pipeline Stage</label>
            <select id="contactStage" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500">
              <option value="new">New Lead</option>
              <option value="contacted">Contacted</option>
              <option value="qualified">Qualified</option>
              <option value="proposal">Proposal</option>
              <option value="won">Won</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Tags</label>
            <input type="text" id="contactTags" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" placeholder="vip, priority (comma separated)">
          </div>
          <div class="flex gap-3 pt-4">
            <button type="button" onclick="closeAddContactModal()" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium">Cancel</button>
            <button type="submit" class="flex-1 px-4 py-2 bg-fuchsia-600 text-white rounded-lg hover:bg-fuchsia-700 font-medium">Add Contact</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Help Modal -->
  <div id="helpModal" class="fixed inset-0 z-50 hidden">
    <div class="modal-overlay absolute inset-0 bg-black/50" onclick="closeHelpModal()"></div>
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="bg-white rounded-2xl shadow-xl w-full max-w-lg relative">
        <div class="flex items-center justify-between p-6 border-b border-gray-100">
          <h2 class="text-lg font-semibold text-gray-900">Help & Support</h2>
          <button onclick="closeHelpModal()" class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
        <div class="p-6 space-y-4">
          <a href="#" class="flex items-center gap-4 p-4 border border-gray-200 rounded-xl hover:border-fuchsia-300 hover:bg-fuchsia-50 transition">
            <div class="w-10 h-10 bg-fuchsia-100 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-fuchsia-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
            </div>
            <div>
              <div class="font-medium text-gray-900">Documentation</div>
              <div class="text-sm text-gray-500">Learn how to use all features</div>
            </div>
          </a>
          <a href="#" class="flex items-center gap-4 p-4 border border-gray-200 rounded-xl hover:border-fuchsia-300 hover:bg-fuchsia-50 transition">
            <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>
            </div>
            <div>
              <div class="font-medium text-gray-900">Live Chat</div>
              <div class="text-sm text-gray-500">Chat with our support team</div>
            </div>
          </a>
          <a href="#" class="flex items-center gap-4 p-4 border border-gray-200 rounded-xl hover:border-fuchsia-300 hover:bg-fuchsia-50 transition">
            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
            </div>
            <div>
              <div class="font-medium text-gray-900">Email Support</div>
              <div class="text-sm text-gray-500">support@awesome.software</div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- New Workspace Modal -->
  <div id="newWorkspaceModal" class="fixed inset-0 z-50 hidden">
    <div class="modal-overlay absolute inset-0 bg-black/50" onclick="closeNewWorkspaceModal()"></div>
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="bg-white rounded-2xl shadow-xl w-full max-w-md relative">
        <div class="flex items-center justify-between p-6 border-b border-gray-100">
          <h2 class="text-lg font-semibold text-gray-900">Create Workspace</h2>
          <button onclick="closeNewWorkspaceModal()" class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
        <form onsubmit="createWorkspace(event)" class="p-6 space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Workspace Name</label>
            <input type="text" id="newWorkspaceName" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" placeholder="My New Business">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Industry</label>
            <select id="workspaceIndustry" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500">
              <option value="agency">Agency</option>
              <option value="saas">SaaS</option>
              <option value="ecommerce">E-commerce</option>
              <option value="consulting">Consulting</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="flex gap-3 pt-4">
            <button type="button" onclick="closeNewWorkspaceModal()" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium">Cancel</button>
            <button type="submit" class="flex-1 px-4 py-2 bg-fuchsia-600 text-white rounded-lg hover:bg-fuchsia-700 font-medium">Create</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="fixed bottom-4 right-4 bg-gray-900 text-white px-4 py-3 rounded-lg shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 z-50">
    <div class="flex items-center gap-3">
      <svg id="toastIcon" class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
      <span id="toastMessage">Success!</span>
    </div>
  </div>

  <script>
    // Dropdown toggles
    function toggleWorkspaceDropdown() {
      const dropdown = document.getElementById('workspaceDropdown');
      dropdown.classList.toggle('show');
      // Close date dropdown if open
      document.getElementById('dateDropdown').classList.remove('show');
    }

    function toggleDateDropdown() {
      const dropdown = document.getElementById('dateDropdown');
      dropdown.classList.toggle('show');
      // Close workspace dropdown if open
      document.getElementById('workspaceDropdown').classList.remove('show');
    }

    // Close dropdowns when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.relative')) {
        document.querySelectorAll('.dropdown-menu').forEach(d => d.classList.remove('show'));
      }
    });

    // Workspace selection
    function selectWorkspace(name, initial) {
      document.getElementById('workspaceName').textContent = name;
      document.getElementById('workspaceInitial').textContent = initial;
      document.getElementById('workspaceDropdown').classList.remove('show');
      showToast('Switched to ' + name);
    }

    // Date range selection
    function selectDateRange(range) {
      document.getElementById('dateRangeText').textContent = range;
      document.getElementById('dateDropdown').classList.remove('show');
      // Simulate data update
      updateDashboardData(range);
    }

    function updateDashboardData(range) {
      // Simulate different data for different ranges
      const data = {
        'Today': { contacts: '2,847', leads: '23', revenue: '$2,150', conversion: '32.1%' },
        'Last 7 days': { contacts: '2,847', leads: '156', revenue: '$12,430', conversion: '33.5%' },
        'Last 30 days': { contacts: '2,847', leads: '847', revenue: '$48,320', conversion: '34.2%' },
        'Last 90 days': { contacts: '2,847', leads: '2,341', revenue: '$142,890', conversion: '35.8%' },
        'This year': { contacts: '2,847', leads: '8,923', revenue: '$523,450', conversion: '36.2%' }
      };

      const d = data[range] || data['Last 30 days'];
      document.getElementById('statContacts').textContent = d.contacts;
      document.getElementById('statLeads').textContent = d.leads;
      document.getElementById('statRevenue').textContent = d.revenue;
      document.getElementById('statConversion').textContent = d.conversion;

      showToast('Data updated for ' + range);
    }

    // Chart line toggles
    function toggleChartLine(line) {
      const lineEl = document.getElementById(line + 'Line');
      const areaEl = document.getElementById(line + 'Area');

      if (lineEl) {
        lineEl.style.display = lineEl.style.display === 'none' ? 'block' : 'none';
      }
      if (areaEl) {
        areaEl.style.display = areaEl.style.display === 'none' ? 'block' : 'none';
      }
    }

    // Chart tooltip
    function showChartTooltip(event, month, data) {
      const tooltip = document.getElementById('chartTooltip');
      const container = document.getElementById('chartContainer');
      const rect = container.getBoundingClientRect();

      document.getElementById('tooltipMonth').textContent = month;
      document.getElementById('tooltipData').innerHTML = `Email: ${data.email}<br>SMS: ${data.sms}<br>Social: ${data.social}`;

      tooltip.classList.remove('hidden');
      tooltip.style.left = (event.clientX - rect.left + 10) + 'px';
      tooltip.style.top = (event.clientY - rect.top - 60) + 'px';

      setTimeout(() => tooltip.classList.add('hidden'), 2000);
    }

    // Modal functions
    function openAddContactModal() {
      document.getElementById('addContactModal').classList.remove('hidden');
    }

    function closeAddContactModal() {
      document.getElementById('addContactModal').classList.add('hidden');
    }

    function openHelpModal() {
      document.getElementById('helpModal').classList.remove('hidden');
    }

    function closeHelpModal() {
      document.getElementById('helpModal').classList.add('hidden');
    }

    function openNewWorkspaceModal() {
      document.getElementById('workspaceDropdown').classList.remove('show');
      document.getElementById('newWorkspaceModal').classList.remove('hidden');
    }

    function closeNewWorkspaceModal() {
      document.getElementById('newWorkspaceModal').classList.add('hidden');
    }

    function openCustomDateModal() {
      document.getElementById('dateDropdown').classList.remove('show');
      showToast('Custom date picker coming soon!');
    }

    function openActivityModal() {
      showToast('Activity log coming soon!');
    }

    // Form submissions
    function saveContact(e) {
      e.preventDefault();
      const firstName = document.getElementById('contactFirstName').value;
      const lastName = document.getElementById('contactLastName').value;

      closeAddContactModal();
      showToast(`Contact ${firstName} ${lastName} added successfully!`);

      // Clear form
      e.target.reset();
    }

    function createWorkspace(e) {
      e.preventDefault();
      const name = document.getElementById('newWorkspaceName').value;

      closeNewWorkspaceModal();
      selectWorkspace(name, name.charAt(0).toUpperCase());

      // Clear form
      e.target.reset();
    }

    // Activity detail
    function viewActivityDetail(type, name) {
      switch(type) {
        case 'deal':
          window.location.href = 'contacts.html?search=' + encodeURIComponent(name);
          break;
        case 'campaign':
          window.location.href = 'campaigns.html?search=' + encodeURIComponent(name);
          break;
        case 'lead':
          window.location.href = 'contacts.html?search=' + encodeURIComponent(name);
          break;
        case 'meeting':
          window.location.href = 'calendar.html';
          break;
      }
    }

    // Toast notification
    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      const icon = document.getElementById('toastIcon');
      const messageEl = document.getElementById('toastMessage');

      messageEl.textContent = message;

      if (type === 'success') {
        icon.classList.remove('text-red-400');
        icon.classList.add('text-green-400');
        icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>';
      } else {
        icon.classList.remove('text-green-400');
        icon.classList.add('text-red-400');
        icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>';
      }

      toast.classList.remove('translate-y-20', 'opacity-0');

      setTimeout(() => {
        toast.classList.add('translate-y-20', 'opacity-0');
      }, 3000);
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeAddContactModal();
        closeHelpModal();
        closeNewWorkspaceModal();
        document.querySelectorAll('.dropdown-menu').forEach(d => d.classList.remove('show'));
      }

      // Ctrl/Cmd + N for new contact
      if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
        e.preventDefault();
        openAddContactModal();
      }
    });
  </script>
</body>
</html>
